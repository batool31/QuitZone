
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>QuitZone - Readiness Test</title>
  <link rel="stylesheet" href="grad.css"/>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;700&display=swap" rel="stylesheet">
  <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
  <style>
    .checkbox-group {
      margin: 15px 0;
    }
    .checkbox-option {
      margin: 8px 0;
      display: block;
    }
    .date-options {
      display: flex;
      flex-direction: column;
      gap: 10px;
    }
    .date-option {
      display: flex;
      align-items: center;
    }
    .date-option input[type="radio"] {
      margin-right: 10px;
    }
  </style>
</head>
<body>
  <!-- Header -->
  <header class="navbar">
    <div class="container">
      <a href="home.html" class="logo"><span>QuitZone</span><span class="emoji">🚭</span></a>
    </div>
  </header>

  <section class="interactive-test" style="padding-top: 7rem;">
    <div class="container">
      <h2 class="section-title" data-aos="fade-up">🧠 Are You Ready to Quit Smoking?</h2>
      <p class="section-description" data-aos="fade-up" data-aos-delay="200">
        Answer the following questions to discover your readiness level.
      </p>

      <form id="readiness-form" class="test-card" data-aos="zoom-in" data-aos-delay="400" onsubmit="calculateReadiness(event)">
        <div id="questions-container"></div>
        <button class="start-btn" type="submit" style="margin-top: 1.5rem;"><span>Get My Result</span></button>
      </form>

      <div id="test-result" class="test-card" style="display:none; margin-top: 3rem;" data-aos="fade-up">
        <h3 style="font-size: 1.5rem; color: #cc8080;margin-top: 3rem;">🎯 Your Readiness Result</h3>
        <p id="readiness-message" style="font-size: 1.2rem; margin-top: 3rem;"></p>
        <p id="quit-date-display" style="font-size: 1.1rem; color: #555; margin-top: 0.5rem;"></p>

        <button onclick="improveTips()" class="start-btn" style="margin-top: 1.5rem; margin-bottom: 1.5rem;">
          <span>How Can I Improve?</span>
        </button>

        <div id="readiness-tips" style="display:none;"></div>

        <!-- زر Start Your Journey يذهب إلى login.html -->
        <a id="awareness-btnn" href="login.php" class="awareness-btn" style="margin-top: 1.5rem; display: none;">
            Star Your Journey
          </a>
          
          
        
      </div>
    </div>
  </section>

  <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
  <script>
    AOS.init();

    const questions = [
      {
        type: "select",
        question: "Do you feel emotionally prepared to quit smoking?",
        options: [
          { text: "Yes", value: 2 },
          { text: "Somewhat", value: 1 },
          { text: "No", value: 0 }
        ]
      },
      {
        type: "select",
        question: "Can you identify your smoking triggers?",
        options: [
          { text: "Yes", value: 2 },
          { text: "Somewhat", value: 1 },
          { text: "No", value: 0 }
        ]
      },
      {
        type: "select",
        question: "Have you tried quitting before?",
        options: [
          { text: "Yes, successfully", value: 2 },
          { text: "Yes, but relapsed", value: 1 },
          { text: "No", value: 0 }
        ]
      },
      {
        type: "select",
        question: "Do you have support from family or friends?",
        options: [
          { text: "Yes", value: 2 },
          { text: "A little", value: 1 },
          { text: "No", value: 0 }
        ]
      },
      {
        type: "select",
        question: "Why Are You Quitting?",
        options: [
          { text: "It is affecting my health", value: 1 },
          { text: "For my family or friends", value: 1 },
          { text: "My doctor recommended quitting", value: 1 },
          { text: "To save money", value: 1 },
          { text: "To set a good example", value: 1 },
          { text: "To have a better future", value: 1 },
          { text: "To take back control", value: 1 },
          { text: "For the environment", value: 1 },
          { text: "To look and smell better", value: 1 },
          { text: "For my pets", value: 1 },
          { text: "It's hard to find places to smoke", value: 1 },
          { text: "Baby on the way", value: 1 }
        ]
      },
      {
        type: "select",
        question: "When is your quit date?",
        id: "quit-date-question",
        options: [
          { text: "Today", value: 2 },
          { text: "Tomorrow", value: 2 },
          { text: "Pick My Date", value: 1 },
          { text: "Not Ready", value: 0 }
        ]
      }
    ];

    function renderQuestions() {
      const container = document.getElementById('questions-container');
      questions.forEach((q, index) => {
        const div = document.createElement('div');
        div.className = 'form-group';
        const label = document.createElement('label');
        label.textContent = q.question;
        label.htmlFor = `question-${index}`;
        div.appendChild(label);

        if (q.type === "select") {
          const select = document.createElement('select');
          select.required = true;
          select.name = `question-${index}`;
          select.id = `question-${index}`;

          const defaultOption = document.createElement('option');
          defaultOption.value = "";
          defaultOption.textContent = "-- Select --";
          select.appendChild(defaultOption);

          q.options.forEach(opt => {
            const option = document.createElement('option');
            option.value = opt.value;
            option.textContent = opt.text;
            select.appendChild(option);
          });

          if (q.question === "When is your quit date?") {
            select.addEventListener('change', function () {
              const existing = document.getElementById('custom-date-container');
              if (existing) existing.remove();

              if (this.value === "1") {
                const customDateDiv = document.createElement('div');
                customDateDiv.id = 'custom-date-container';
                customDateDiv.style.marginTop = "1rem";

                const dateLabel = document.createElement('label');
                dateLabel.textContent = "Select Your Quit Date:";
                dateLabel.setAttribute('for', 'custom-quit-date');

                const dateInput = document.createElement('input');
                dateInput.type = 'date';
                dateInput.id = 'custom-quit-date';
                dateInput.name = 'custom-quit-date';
                dateInput.required = true;

                customDateDiv.appendChild(dateLabel);
                customDateDiv.appendChild(dateInput);
                div.appendChild(customDateDiv);
              }
            });
          }

          div.appendChild(select);
        }

        container.appendChild(div);
      });
    }

    function calculateReadiness(event) {
      event.preventDefault();
      let total = 0;
      let incomplete = false;
      let selectedQuitDate = "";
      const selects = document.querySelectorAll('select');

      selects.forEach(select => {
        if (select.value === "") {
          incomplete = true;
        } else {
          total += parseInt(select.value);

          if (select.name.includes("question-5")) {
            if (select.value === "2") {
              selectedQuitDate = select.options[select.selectedIndex].text;
            } else if (select.value === "1") {
              const customDate = document.getElementById('custom-quit-date');
              if (!customDate || customDate.value === "") {
                incomplete = true;
              } else {
                const dateObj = new Date(customDate.value);
                selectedQuitDate = dateObj.toLocaleDateString('en-US', {
                  year: 'numeric',
                  month: 'long',
                  day: 'numeric'
                });
              }
            } else {
              selectedQuitDate = select.options[select.selectedIndex].text;
            }
          }
        }
      });

      if (incomplete) {
        alert("Please answer all questions (and choose a date if needed) before submitting.");
        return;
      }

      const resultBox = document.getElementById('test-result');
      const message = document.getElementById('readiness-message');
      const dateDisplay = document.getElementById('quit-date-display');

      if (total >= 10) {
        message.textContent = "🎉 You're extremely ready to quit! You've got strong motivation and a plan!";
      } else if (total >= 6) {
        message.textContent = "🌟 You're well prepared. Keep strengthening your reasons and plan!";
      } else {
        message.textContent = "🛠️ You're getting ready. Focus on your motivations and set a quit date.";
      }

      if (selectedQuitDate) {
        dateDisplay.innerHTML = `🗓️ <strong>Your Quit Date:</strong> ${selectedQuitDate}`;
      } else {
        dateDisplay.innerHTML = "";
      }

      resultBox.style.display = 'block';
      document.getElementById('readiness-tips').style.display = 'none';
      document.getElementById('awareness-btnn').style.display = 'none'; // إخفاء الزر في كل مرة من البداية
      resultBox.scrollIntoView({ behavior: 'smooth' });
    }

    function improveTips() {
      const tipsBox = document.getElementById('readiness-tips');
      const message = document.getElementById('readiness-message').textContent;
      const awarenessBtn = document.getElementById('awareness-btnn');
      let tips = "";

      if (message.includes("extremely ready")) {
        tips = `
          ✅ Keep your quit plan visible.<br>
          ✅ Stay connected with your support system.<br>
          ✅ Avoid triggers and reward yourself!
        `;
      } else if (message.includes("well prepared")) {
        tips = `
          🔹 Write down your reasons for quitting.<br>
          🔹 Start reducing your smoking.<br>
          🔹 Inform your support network about your goal.
        `;
      } else {
        tips = `
          🔸 Learn more about health risks.<br>
          🔸 Set a realistic quit date.<br>
          🔸 Talk to a doctor or counselor.<br>
          🔸 Use quit-smoking apps for motivation.
        `;
      }

      tipsBox.innerHTML = tips;
      tipsBox.style.display = 'block';
      tipsBox.scrollIntoView({ behavior: 'smooth' });

      // إظهار الزر بعد عرض النصائح
      awarenessBtn.style.display = 'inline-block';
    }

    document.addEventListener('DOMContentLoaded', renderQuestions);
  </script>
<!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-logo">
                    <a href="home.html">
                        <span>QuitZone</span>
                        <span class="emoji">🚭</span>
                    </a>
                    <p>Your partner in the journey to a smoke-free life.</p>
                </div>
                
                <div class="footer-links">
                    <div class="footer-column">
                        <h3>Pages</h3>
                        <ul>
                            <li><a href="home.html">Home</a></li>
                            <li><a href="progress.html">Progress</a></li>
                            <li><a href="challenges.html">Challenges</a></li>
                            <li><a href="savings.html">Savings</a></li>
                            <li><a href="success_stories.html">Success Stories</a></li>
                        </ul>
                    </div>
                    
                    <div class="footer-column">
                        <h3>Support</h3>
                        <ul>
                            <li><a href="#">FAQs</a></li>
                            <li><a href="#">Help Center</a></li>
                            <li><a href="#">Contact Us</a></li>
                            <li><a href="#">Privacy Policy</a></li>
                            <li><a href="#">Terms of Service</a></li>
                        </ul>
                    </div>
                    
                    <div class="footer-column">
                        <h3>Connect</h3>
                        <div class="social-links">
                            <a href="#" class="social-link"><i class="fab fa-facebook-f"></i></a>
                            <a href="#" class="social-link"><i class="fab fa-twitter"></i></a>
                            <a href="#" class="social-link"><i class="fab fa-instagram"></i></a>
                            <a href="#" class="social-link"><i class="fab fa-youtube"></i></a>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="footer-bottom">
                <p>&copy; 2025 QuitZone. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <!-- External JS -->
    <script src="common.js"></script>
</body>
</html>