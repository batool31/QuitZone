<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>QuitZone - Chatbot</title>
  <link rel="stylesheet" href="grad.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <!-- AOS Animation Library -->
  <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
  <!-- Axios for API calls -->
  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
</head>
<body>
  <!-- Header -->
  <header class="navbar">
    <div class="container">
      <a href="home.html" class="logo">
        <span>QuitZone</span>
        <span class="emoji">üö≠</span>
      </a>
      
      <!-- Navigation Links for Desktop -->
      <nav class="nav-desktop">
        <ul>
          <li><a href="home.html" class="nav-link">Home</a></li>
          <li><a href="progress.html" class="nav-link">Progress</a></li>
          <li><a href="challenges.html" class="nav-link">Challenges</a></li>
          <li><a href="savings.html" class="nav-link">Savings</a></li>
          <li><a href="success_stories.html" class="nav-link">Success Stories</a></li>
          <li><a href="chatbot.html" class="nav-link active">Chatbot</a></li>
          <li><a href="login.php" class="login-btn">Login</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <main class="container chatbot-container">
    <div class="chatbot-header" data-aos="fade-up">
      <h1>QuitBot - Your Quitting Assistant</h1>
      <p>Get support, advice, and motivation any time you need it. I'm here to help you on your smoke-free journey!</p>
    </div>
    
    <div class="chatbot-wrapper" data-aos="fade-up" data-aos-delay="200">
      <div class="chat-sidebar">
        <div class="sidebar-header">
          <h3><i class="fas fa-robot"></i> QuitBot</h3>
          <span class="status-indicator online"></span>
        </div>
        
        <div class="quick-actions">
          <h4>Quick Actions</h4>
          <div class="quick-buttons">
            <button onclick="sendQuickQuestion('Help with cravings')">
              <i class="fas fa-fire-alt"></i> Help with cravings
            </button>
            <button onclick="sendQuickQuestion('Withdrawal symptoms')">
              <i class="fas fa-head-side-cough"></i> Withdrawal symptoms
            </button>
            <button onclick="sendQuickQuestion('Benefits of quitting')">
              <i class="fas fa-heartbeat"></i> Benefits of quitting
            </button>
            <button onclick="sendQuickQuestion('Quitting tips')">
              <i class="fas fa-lightbulb"></i> Quitting tips
            </button>
            <button onclick="sendQuickQuestion('Health improvements timeline')">
              <i class="fas fa-clock"></i> Health improvements
            </button>
          </div>
        </div>
        
        <div class="conversation-stats">
          <div class="stat-item">
            <span class="stat-label">Messages Sent</span>
            <span class="stat-value" id="messages-count">0</span>
          </div>
          <div class="stat-item">
            <span class="stat-label">Today's Streak</span>
            <span class="stat-value" id="today-streak">0</span>
          </div>
        </div>
      </div>
      
      <div class="chat-main">
        <div id="chat-box" class="chat-box">
          <div class="chat-date">Today</div>
          <div class="chat-message bot">
            <div class="message-avatar">
              <i class="fas fa-robot"></i>
            </div>
            <div class="message-content">
              <p>üëã Hello! I'm QuitBot, your personal assistant on your journey to quit smoking. How can I help you today?</p>
            </div>
            <div class="message-time">Just now</div>
          </div>
          
          <div class="chat-message bot">
            <div class="message-avatar">
              <i class="fas fa-robot"></i>
            </div>
            <div class="message-content">
              <p>You can ask me about:</p>
              <ul>
                <li>Dealing with withdrawal symptoms</li>
                <li>Tips for handling cravings</li>
                <li>Benefits of quitting smoking</li>
                <li>Health improvements timeline</li>
                <li>Strategies for staying smoke-free</li>
              </ul>
              <p>What's on your mind?</p>
            </div>
            <div class="message-time">Just now</div>
          </div>
        </div>
        
        <div class="chat-input-container">
          <div class="input-wrapper">
            <input 
              type="text" 
              id="user-input" 
              placeholder="Type your message here..." 
              onkeypress="handleKeyPress(event)"
            />
            <button class="emoji-btn" onclick="toggleEmojiPicker()">
              <i class="far fa-smile"></i>
            </button>
          </div>
          
          <button class="send-btn" onclick="sendMessage()">
            <i class="fas fa-paper-plane"></i>
          </button>
        </div>
        
        <div class="emoji-picker" id="emoji-picker">
          <div class="emoji-categories">
            <button class="category-btn active" data-category="smileys">üòä</button>
            <button class="category-btn" data-category="gestures">üëç</button>
            <button class="category-btn" data-category="food">üçé</button>
            <button class="category-btn" data-category="travel">üöó</button>
            <button class="category-btn" data-category="objects">‚åö</button>
          </div>
          <div class="emoji-grid" id="emoji-grid">
            <!-- Emojis will be populated here -->
          </div>
        </div>
      </div>
    </div>
    
    <div class="chatbot-features" data-aos="fade-up" data-aos-delay="300">
      <div class="feature-card">
        <div class="feature-icon">
          <i class="fas fa-clock"></i>
        </div>
        <h3>24/7 Support</h3>
        <p>QuitBot is always here for you, whenever you need support or advice.</p>
      </div>
      
      <div class="feature-card">
        <div class="feature-icon">
          <i class="fas fa-shield-alt"></i>
        </div>
        <h3>Privacy First</h3>
        <p>Your conversations are private and secure. We respect your confidentiality.</p>
      </div>
      
      <div class="feature-card">
        <div class="feature-icon">
          <i class="fas fa-brain"></i>
        </div>
        <h3>Smart Responses</h3>
        <p>Powered by advanced AI to provide personalized guidance and support.</p>
      </div>
      
      <div class="feature-card">
        <div class="feature-icon">
          <i class="fas fa-heart"></i>
        </div>
        <h3>Evidence-Based</h3>
        <p>All advice is based on scientifically proven smoking cessation methods.</p>
      </div>
    </div>
  </main>

  <!-- Footer -->
  <footer class="footer">
    <div class="container">
      <div class="footer-content">
        <div class="footer-logo">
          <a href="home.html">
            <span>QuitZone</span>
            <span class="emoji">üö≠</span>
          </a>
          <p>Your partner in the journey to a smoke-free life.</p>
        </div>
        
        <div class="footer-links">
          <div class="footer-column">
            <h3>Pages</h3>
            <ul>
              <li><a href="home.html">Home</a></li>
              <li><a href="progress.html">Progress</a></li>
              <li><a href="challenges.html">Challenges</a></li>
              <li><a href="savings.html">Savings</a></li>
              <li><a href="success_stories.html">Success Stories</a></li>
            </ul>
          </div>
          
          <div class="footer-column">
            <h3>Support</h3>
            <ul>
              <li><a href="#">FAQs</a></li>
              <li><a href="#">Help Center</a></li>
              <li><a href="#">Contact Us</a></li>
              <li><a href="#">Privacy Policy</a></li>
              <li><a href="#">Terms of Service</a></li>
            </ul>
          </div>
          
          <div class="footer-column">
            <h3>Connect</h3>
            <div class="social-links">
              <a href="#" class="social-link"><i class="fab fa-facebook-f"></i></a>
              <a href="#" class="social-link"><i class="fab fa-twitter"></i></a>
              <a href="#" class="social-link"><i class="fab fa-instagram"></i></a>
              <a href="#" class="social-link"><i class="fab fa-youtube"></i></a>
            </div>
          </div>
        </div>
      </div>
      
      <div class="footer-bottom">
        <p>&copy; 2025 QuitZone. All rights reserved.</p>
      </div>
    </div>
  </footer>

  <!-- AOS Animation Library -->
  <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
  
  <script>
    // Initialize AOS
    AOS.init({
      duration: 800,
      easing: 'ease-in-out',
      once: true
    });
    
    // Fix scrolling issue on page load
    window.onload = function() {
      window.scrollTo(0, 0);
      
      // Initialize emoji picker
      initEmojiPicker();
    };
    
    // Chat functionality
    let messageCount = 0;
    let todayStreak = 0;
    
    function handleKeyPress(e) {
      if (e.keyCode === 13) {
        sendMessage();
      }
    }
    
    function sendMessage() {
      const userInput = document.getElementById('user-input');
      const message = userInput.value.trim();
      
      if (message === '') return;
      
      // Add user message to chat
      addUserMessage(message);
      
      // Clear input
      userInput.value = '';
      
      // Simulate typing
      showTypingIndicator();
      
      // Simulate bot response after delay
      setTimeout(() => {
        removeTypingIndicator();
        generateBotResponse(message);
      }, 1500);
    }
    
    function sendQuickQuestion(question) {
      // Add user message to chat
      addUserMessage(question);
      
      // Simulate typing
      showTypingIndicator();
      
      // Simulate bot response after delay
      setTimeout(() => {
        removeTypingIndicator();
        generateBotResponse(question);
      }, 1500);
    }
    
    function addUserMessage(message) {
      const chatBox = document.getElementById('chat-box');
      
      const messageElement = document.createElement('div');
      messageElement.className = 'chat-message user';
      
      messageElement.innerHTML = `
        <div class="message-content">
          <p>${message}</p>
        </div>
        <div class="message-avatar">
          <i class="fas fa-user"></i>
        </div>
        <div class="message-time">Just now</div>
      `;
      
      chatBox.appendChild(messageElement);
      
      // Update stats
      messageCount++;
      todayStreak++;
      document.getElementById('messages-count').textContent = messageCount;
      document.getElementById('today-streak').textContent = todayStreak;
      
      // Scroll to bottom
      chatBox.scrollTop = chatBox.scrollHeight;
    }
    
    function showTypingIndicator() {
      const chatBox = document.getElementById('chat-box');
      
      const typingElement = document.createElement('div');
      typingElement.className = 'chat-message bot typing';
      typingElement.id = 'typing-indicator';
      
      typingElement.innerHTML = `
        <div class="message-avatar">
          <i class="fas fa-robot"></i>
        </div>
        <div class="message-content">
          <div class="typing-indicator">
            <span></span>
            <span></span>
            <span></span>
          </div>
        </div>
      `;
      
      chatBox.appendChild(typingElement);
      
      // Scroll to bottom
      chatBox.scrollTop = chatBox.scrollHeight;
    }
    
    function removeTypingIndicator() {
      const typingIndicator = document.getElementById('typing-indicator');
      if (typingIndicator) {
        typingIndicator.remove();
      }
    }
    
    function generateBotResponse(userMessage) {
      const chatBox = document.getElementById('chat-box');
      
      // Simple response logic based on keywords
      let response = '';
      
      if (userMessage.toLowerCase().includes('craving') || userMessage.toLowerCase().includes('urge')) {
        response = `
          <p>Cravings typically last 5-10 minutes. Here are some strategies to get through them:</p>
          <ul>
            <li>Deep breathing: Take 10 slow, deep breaths</li>
            <li>Distraction: Call a friend, go for a walk, or play a game</li>
            <li>Drink water: Sip slowly and focus on the sensation</li>
            <li>Remember your reasons: Remind yourself why you're quitting</li>
          </ul>
          <p>Remember, each craving you overcome makes you stronger for the next one!</p>
        `;
      } else if (userMessage.toLowerCase().includes('withdrawal') || userMessage.toLowerCase().includes('symptom')) {
        response = `
          <p>Withdrawal symptoms are temporary and typically peak within 1-3 days after quitting. Common symptoms include:</p>
          <ul>
            <li>Irritability and anxiety</li>
            <li>Difficulty concentrating</li>
            <li>Increased appetite</li>
            <li>Headaches</li>
            <li>Insomnia</li>
          </ul>
          <p>These symptoms typically fade within 2-4 weeks. Stay strong - your body is healing!</p>
        `;
      } else if (userMessage.toLowerCase().includes('benefit') || userMessage.toLowerCase().includes('health')) {
        response = `
          <p>The health benefits of quitting smoking begin almost immediately:</p>
          <ul>
            <li>20 minutes: Heart rate and blood pressure drop</li>
            <li>12 hours: Carbon monoxide levels normalize</li>
            <li>2-3 weeks: Lung function improves, exercise gets easier</li>
            <li>1-9 months: Coughing and shortness of breath decrease</li>
            <li>1 year: Heart disease risk drops by half</li>
            <li>5-10 years: Cancer risk significantly decreases</li>
          </ul>
          <p>Every day smoke-free is a gift to your future health!</p>
        `;
      } else if (userMessage.toLowerCase().includes('tip') || userMessage.toLowerCase().includes('help') || userMessage.toLowerCase().includes('advice')) {
        response = `
          <p>Here are some proven strategies to help you quit smoking:</p>
          <ul>
            <li>Identify your triggers and plan alternatives</li>
            <li>Stay hydrated and maintain a healthy diet</li>
            <li>Exercise regularly to reduce cravings and stress</li>
            <li>Use nicotine replacement therapy if needed</li>
            <li>Join a support group or engage with the QuitZone community</li>
            <li>Practice stress-reduction techniques like meditation</li>
          </ul>
          <p>Remember, quitting is a journey. Be patient and kind to yourself!</p>
        `;
      } else if (userMessage.toLowerCase().includes('timeline') || userMessage.toLowerCase().includes('improvement')) {
        response = `
          <p>Here's how your body recovers after quitting smoking:</p>
          <ul>
            <li>20 minutes: Heart rate normalizes</li>
            <li>12 hours: Carbon monoxide levels drop to normal</li>
            <li>2-3 days: Nicotine leaves your body</li>
            <li>2-3 weeks: Lung function improves</li>
            <li>1-3 months: Circulation improves, exercise gets easier</li>
            <li>1 year: Heart disease risk drops by 50%</li>
            <li>5-10 years: Stroke and cancer risks decrease significantly</li>
            <li>15 years: Risk of heart disease is close to that of a non-smoker</li>
          </ul>
          <p>You've started an amazing healing journey!</p>
        `;
      } else {
        response = `
          <p>I'm here to support you on your quit journey! You can ask me about:</p>
          <ul>
            <li>Dealing with cravings and withdrawal symptoms</li>
            <li>Health benefits of quitting smoking</li>
            <li>Tips and strategies for staying smoke-free</li>
            <li>Timeline of health improvements</li>
            <li>Managing stress and preventing relapse</li>
          </ul>
          <p>What specific aspect of quitting would you like help with today?</p>
        `;
      }
      
      const messageElement = document.createElement('div');
      messageElement.className = 'chat-message bot';
      
      const currentTime = new Date();
      const hours = currentTime.getHours();
      const minutes = currentTime.getMinutes();
      const timeString = `${hours}:${minutes < 10 ? '0' + minutes : minutes}`;
      
      messageElement.innerHTML = `
        <div class="message-avatar">
          <i class="fas fa-robot"></i>
        </div>
        <div class="message-content">
          ${response}
        </div>
        <div class="message-time">${timeString}</div>
      `;
      
      chatBox.appendChild(messageElement);
      
      // Scroll to bottom
      chatBox.scrollTop = chatBox.scrollHeight;
    }
    
    // Emoji picker functionality
    function toggleEmojiPicker() {
      const emojiPicker = document.getElementById('emoji-picker');
      emojiPicker.classList.toggle('active');
    }
    
    function initEmojiPicker() {
      const emojiGrid = document.getElementById('emoji-grid');
      
      // Smiley emojis
      const smileys = ['üòÄ', 'üòÅ', 'üòÇ', 'ü§£', 'üòÉ', 'üòÑ', 'üòÖ', 'üòÜ', 'üòâ', 'üòä', 'üòã', 'üòé', 'üòç', 'üòò', 'ü•∞', 'üòó', 'üòô', 'üòö', 'üôÇ', 'ü§ó', 'ü§©', 'ü§î', 'ü§®', 'üòê', 'üòë', 'üò∂', 'üôÑ', 'üòè', 'üò£', 'üò•', 'üòÆ', 'ü§ê', 'üòØ', 'üò™', 'üò´', 'üò¥', 'üòå', 'üòõ', 'üòú', 'üòù', 'ü§§', 'üòí', 'üòì', 'üòî', 'üòï', 'üôÉ', 'ü§ë', 'üò≤', '‚òπÔ∏è', 'üôÅ', 'üòñ', 'üòû', 'üòü', 'üò§', 'üò¢', 'üò≠', 'üò¶', 'üòß', 'üò®', 'üò©', 'ü§Ø', 'üò¨', 'üò∞', 'üò±', 'ü•µ', 'ü•∂', 'üò≥', 'ü§™', 'üòµ', 'üò°', 'üò†', 'ü§¨', 'üò∑', 'ü§í', 'ü§ï', 'ü§¢', 'ü§Æ', 'ü§ß', 'üòá', 'ü•≥', 'ü•¥', 'ü•∫', 'ü§†', 'ü§°', 'ü§•', 'ü§´', 'ü§≠', 'üßê', 'ü§ì', 'üòà', 'üëø', 'üëπ', 'üë∫', 'üíÄ', 'üëª', 'üëΩ', 'ü§ñ', 'üí©', 'üò∫', 'üò∏', 'üòπ', 'üòª', 'üòº', 'üòΩ', 'üôÄ', 'üòø', 'üòæ'];
      
      // Add emojis to grid
      smileys.forEach(emoji => {
        const emojiBtn = document.createElement('button');
        emojiBtn.className = 'emoji-btn';
        emojiBtn.textContent = emoji;
        emojiBtn.addEventListener('click', () => {
          addEmoji(emoji);
        });
        emojiGrid.appendChild(emojiBtn);
      });
    }
    
    function addEmoji(emoji) {
      const userInput = document.getElementById('user-input');
      userInput.value += emoji;
      toggleEmojiPicker();
      userInput.focus();
    }
  </script>
  <script src="common.js"></script>
</body>
</html>