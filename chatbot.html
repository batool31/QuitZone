<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>QuitZone - Interactive Chatbot</title>
  <link rel="stylesheet" href="grad.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <!-- AOS Animation Library -->
  <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
  <!-- Particles JS for interactive background -->
  <script src="https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js"></script>
  <!-- Axios for API calls -->
  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
</head>
<body>
  <!-- Interactive background -->
  <div id="particles-js" class="particles-container"></div>

  <!-- Header -->
  <header class="navbar">
    <div class="container">
      <a href="home.html" class="logo">
        <span>QuitZone</span>
        <span class="emoji animated-emoji">üö≠</span>
      </a>
      
      <!-- Navigation Links for Desktop -->
      <nav class="nav-desktop">
        <ul>
          <li><a href="home.html" class="nav-link">Home</a></li>
          <li><a href="awareness.html" class="nav-link">Awareness</a></li>
          <li><a href="progress.html" class="nav-link">Progress</a></li>
          <li><a href="challenges.php" class="nav-link">Challenges</a></li>
          <li><a href="savings.php" class="nav-link">Savings</a></li>
          <li><a href="success_stories.html" class="nav-link">Success Stories</a></li>
          <li><a href="chatbot.html" class="nav-link active">Chatbot</a></li>
          <li><a href="login.php" class="login-btn pulse-btn">Login</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <main class="container chatbot-container">
    <div class="page-intro" data-aos="fade-up">
      <div class="intro-badge">Interactive Assistant</div>
      <h1 class="gradient-text">QuitBot - Your Personal Quitting Assistant</h1>
      <p class="intro-description">Get personalized support, evidence-based advice, and motivation exactly when you need it. I'm here to guide you through every step of your smoke-free journey!</p>
      <div class="intro-decorations">
        <span class="deco-circle circle-1"></span>
        <span class="deco-circle circle-2"></span>
        <span class="deco-circle circle-3"></span>
      </div>
    </div>
    
    <div class="chatbot-wrapper glass-morphism" data-aos="zoom-in" data-aos-delay="200">
      <div class="chat-sidebar">
        <div class="sidebar-header">
          <div class="bot-avatar">
            <i class="fas fa-robot"></i>
            <div class="pulse-ring"></div>
          </div>
          <div class="bot-info">
            <h3>QuitBot Assistant</h3>
            <div class="bot-status">
              <span class="status-indicator online"></span>
              <span>Online & Ready</span>
            </div>
          </div>
        </div>
        
        <div class="chat-actions">
          <h4><i class="fas fa-bolt"></i> Ask me about</h4>
          <div class="quick-buttons">
            <button onclick="sendQuickQuestion('Help with cravings')" class="animated-btn">
              <i class="fas fa-fire-alt"></i> Help with cravings
              <span class="btn-hover-effect"></span>
            </button>
            <button onclick="sendQuickQuestion('Withdrawal symptoms')" class="animated-btn">
              <i class="fas fa-head-side-cough"></i> Withdrawal symptoms
              <span class="btn-hover-effect"></span>
            </button>
            <button onclick="sendQuickQuestion('Benefits of quitting')" class="animated-btn">
              <i class="fas fa-heartbeat"></i> Benefits of quitting
              <span class="btn-hover-effect"></span>
            </button>
            <button onclick="sendQuickQuestion('Quitting tips')" class="animated-btn">
              <i class="fas fa-lightbulb"></i> Quitting tips
              <span class="btn-hover-effect"></span>
            </button>
            <button onclick="sendQuickQuestion('Health improvements timeline')" class="animated-btn">
              <i class="fas fa-clock"></i> Health improvements
              <span class="btn-hover-effect"></span>
            </button>
          </div>
        </div>
        
        <div class="progress-stats2">
          <h4><i class="fas fa-chart-line"></i> Your Progress</h4>
          <div class="stat-cards">
            <div class="stat-card">
              <div class="stat-icon">
                <i class="fas fa-comment-dots"></i>
              </div>
              <div class="stat-info">
                <span class="stat-label">Messages</span>
                <div class="stat-value-container">
                  <span class="stat-value" id="messages-count">0</span>
                </div>
              </div>
            </div>
            <div class="stat-card">
              <div class="stat-icon">
                <i class="fas fa-fire"></i>
              </div>
              <div class="stat-info">
                <span class="stat-label">Today's Streak</span>
                <div class="stat-value-container">
                  <span class="stat-value" id="today-streak">0</span>
                  <div class="streak-badge">
                   
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <div class="chat-main">
        <div class="chat-header">
          <div class="chat-title">Conversation</div>
          <div class="chat-tools">
            <button class="tool-btn refresh-btn" title="Refresh conversation">
              <i class="fas fa-sync-alt"></i>
            </button>
            <button class="tool-btn settings-btn" title="Settings">
              <i class="fas fa-cog"></i>
            </button>
          </div>
        </div>
        
        <div id="chat-box" class="chat-box">
          <div class="chat-timestamp">
            <span>Today, <script>document.write(new Date().toLocaleDateString('en-US', { weekday: 'long', month: 'short', day: 'numeric' }))</script></span>
          </div>
          
          <div class="chat-message bot animated-entrance">
            <div class="message-avatar">
              <i class="fas fa-robot"></i>
            </div>
            <div class="message-content">
              <div class="message-bubble">
                <p>üëã Hello! I'm QuitBot, your personal assistant on your journey to quit smoking. How can I help you today?</p>
              </div>
              <div class="message-meta">
                <span class="message-time">Just now</span>
              </div>
            </div>
          </div>
          
          <div class="chat-message bot animated-entrance">
            <div class="message-avatar">
              <i class="fas fa-robot"></i>
            </div>
            <div class="message-content">
              <div class="message-bubble">
                <p>You can ask me about:</p>
                <ul class="animated-list">
                  <li>Dealing with withdrawal symptoms</li>
                  <li>Tips for handling cravings</li>
                  <li>Benefits of quitting smoking</li>
                  <li>Health improvements timeline</li>
                  <li>Strategies for staying smoke-free</li>
                </ul>
                <p>What's on your mind?</p>
              </div>
              <div class="message-meta">
                <span class="message-time">Just now</span>
              </div>
            </div>
          </div>
        </div>
        
        <div class="chat-input-container">
          <div class="input-wrapper">
            <input 
              type="text" 
              id="user-input" 
              placeholder="Type your message here..." 
              onkeypress="handleKeyPress(event)"
              class="floating-input"
            />
            <button class="emoji-btn" onclick="toggleEmojiPicker()">
              <i class="far fa-smile"></i>
            </button>
          </div>
          
          <button class="send-btn" onclick="sendMessage()">
            <span class="send-text">Send</span>
            <i class="fas fa-paper-plane"></i>
          </button>
        </div>
        
        <div class="emoji-picker" id="emoji-picker">
          <div class="emoji-header">
            <span>Add emoji</span>
            <button class="close-emoji" onclick="toggleEmojiPicker()">√ó</button>
          </div>
          <div class="emoji-categories">
            <button class="category-btn active" data-category="smileys"><span>üòä</span></button>
            <button class="category-btn" data-category="gestures"><span>üëç</span></button>
            <button class="category-btn" data-category="food"><span>üçé</span></button>
            <button class="category-btn" data-category="travel"><span>üöó</span></button>
            <button class="category-btn" data-category="objects"><span>‚åö</span></button>
          </div>
          <div class="emoji-grid" id="emoji-grid">
            <!-- Emojis will be populated here -->
          </div>
        </div>
      </div>
    </div>
    
    <div class="features-section" data-aos="fade-up" data-aos-delay="300">
      <h2 class="section-title">Why QuitBot Helps You Succeed</h2>
      <div class="feature-cards">
        <div class="feature-card" data-aos="flip-left" data-aos-delay="400">
          <div class="feature-icon-wrapper">
            <i class="fas fa-clock"></i>
            <div class="icon-bg-effect"></div>
          </div>
          <h3>24/7 Support</h3>
          <p>QuitBot is always here for you, whenever you need support or advice on your quit journey.</p>
        </div>
        
        <div class="feature-card" data-aos="flip-left" data-aos-delay="500">
          <div class="feature-icon-wrapper">
            <i class="fas fa-shield-alt"></i>
            <div class="icon-bg-effect"></div>
          </div>
          <h3>Privacy First</h3>
          <p>Your conversations are private and secure. We respect your confidentiality at every step.</p>
        </div>
        
        <div class="feature-card" data-aos="flip-left" data-aos-delay="600">
          <div class="feature-icon-wrapper">
            <i class="fas fa-brain"></i>
            <div class="icon-bg-effect"></div>
          </div>
          <h3>Smart Responses</h3>
          <p>Powered by advanced AI to provide personalized guidance and support tailored to your needs.</p>
        </div>
        
        <div class="feature-card" data-aos="flip-left" data-aos-delay="700">
          <div class="feature-icon-wrapper">
            <i class="fas fa-heart"></i>
            <div class="icon-bg-effect"></div>
          </div>
          <h3>Evidence-Based</h3>
          <p>All advice is based on scientifically proven smoking cessation methods and research.</p>
        </div>
      </div>
    </div>

    <div class="success-banner" data-aos="fade-up">
      <div class="banner-content">
        <h2>Join thousands who have successfully quit with QuitBot</h2>
        <p>Our users report a 78% higher success rate compared to quitting without support</p>
        <a href="#" class="cta-button">Start Your Quit Journey Today</a>
      </div>
      <div class="banner-decoration">
        <div class="animated-circles">
          <div class="circle circle-1"></div>
          <div class="circle circle-2"></div>
          <div class="circle circle-3"></div>
        </div>
      </div>
    </div>
  </main>

  <!-- Footer -->
  <footer class="footer">
    <div class="container">
      <div class="footer-content">
        <div class="footer-logo">
          <a href="home.html">
            <span>QuitZone</span>
            <span class="emoji">üö≠</span>
          </a>
          <p>Your partner in the journey to a smoke-free life.</p>
        </div>
        
        <div class="footer-links">
          <div class="footer-column">
            <h3>Pages</h3>
            <ul>
              <li><a href="home.html">Home</a></li>
              <li><a href="progress.html">Progress</a></li>
              <li><a href="challenges.php">Challenges</a></li>
              <li><a href="savings.php">Savings</a></li>
              <li><a href="success_stories.html">Success Stories</a></li>
            </ul>
          </div>
          
          <div class="footer-column">
            <h3>Support</h3>
            <ul>
              <li><a href="#">FAQs</a></li>
              <li><a href="#">Help Center</a></li>
              <li><a href="#">Contact Us</a></li>
              <li><a href="#">Privacy Policy</a></li>
              <li><a href="#">Terms of Service</a></li>
            </ul>
          </div>
          
          <div class="footer-column">
            <h3>Connect</h3>
            <div class="social-links">
              <a href="#" class="social-link"><i class="fab fa-facebook-f"></i></a>
              <a href="#" class="social-link"><i class="fab fa-twitter"></i></a>
              <a href="#" class="social-link"><i class="fab fa-instagram"></i></a>
              <a href="#" class="social-link"><i class="fab fa-youtube"></i></a>
            </div>
          </div>
        </div>
      </div>
      
      <div class="footer-bottom">
        <p>&copy; 2025 QuitZone. All rights reserved.</p>
      </div>
    </div>
  </footer>

  <!-- AOS Animation Library -->
  <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
  
  <script>
    // Initialize AOS animations
    AOS.init({
      duration: 800,
      easing: 'ease-in-out',
      once: true,
      mirror: false
    });
    
    // Initialize particles.js
    document.addEventListener('DOMContentLoaded', function() {
      particlesJS("particles-js", {
        "particles": {
          "number": {
            "value": 80,
            "density": {
              "enable": true,
              "value_area": 800
            }
          },
          "color": {
            "value": "#546E7A"
          },
          "shape": {
            "type": "circle",
            "stroke": {
              "width": 0,
              "color": "#000000"
            },
            "polygon": {
              "nb_sides": 5
            }
          },
          "opacity": {
            "value": 0.3,
            "random": false,
            "anim": {
              "enable": false
            }
          },
          "size": {
            "value": 3,
            "random": true,
            "anim": {
              "enable": false
            }
          },
          "line_linked": {
            "enable": true,
            "distance": 150,
            "color": "#546E7A",
            "opacity": 0.2,
            "width": 1
          },
          "move": {
            "enable": true,
            "speed": 2,
            "direction": "none",
            "random": false,
            "straight": false,
            "out_mode": "out",
            "bounce": false,
            "attract": {
              "enable": false
            }
          }
        },
        "interactivity": {
          "detect_on": "canvas",
          "events": {
            "onhover": {
              "enable": true,
              "mode": "grab"
            },
            "onclick": {
              "enable": true,
              "mode": "push"
            },
            "resize": true
          },
          "modes": {
            "grab": {
              "distance": 140,
              "line_linked": {
                "opacity": 0.5
              }
            },
            "push": {
              "particles_nb": 4
            }
          }
        },
        "retina_detect": true
      });
    });
    
    // Fix scrolling issue on page load
    window.onload = function() {
      window.scrollTo(0, 0);
      
      // Initialize emoji picker
      initEmojiPicker();
      
      // Add floating animation to chat box
      floatingAnimation();
    };
    
    function floatingAnimation() {
      const chatbox = document.querySelector('.chatbot-wrapper');
      
      document.addEventListener('mousemove', function(e) {
        const x = (e.clientX / window.innerWidth) - 0.5;
        const y = (e.clientY / window.innerHeight) - 0.5;
        
        chatbox.style.transform = `perspective(1000px) rotateY(${x * 2}deg) rotateX(${y * -2}deg) translateZ(10px)`;
      });
    }
    
    // Chat functionality
    let messageCount = 0;
    let todayStreak = 0;
    
    function handleKeyPress(e) {
      if (e.keyCode === 13) {
        sendMessage();
      }
    }
    
    function sendMessage() {
      const userInput = document.getElementById('user-input');
      const message = userInput.value.trim();
      
      if (message === '') return;
      
      // Add user message to chat
      addUserMessage(message);
      
      // Clear input
      userInput.value = '';
      
      // Simulate typing
      showTypingIndicator();
      
      // Simulate bot response after delay
      setTimeout(() => {
        removeTypingIndicator();
        generateBotResponse(message);
      }, 1500);
    }
    
    function sendQuickQuestion(question) {
      // Add user message to chat
      addUserMessage(question);
      
      // Simulate typing
      showTypingIndicator();
      
      // Simulate bot response after delay
      setTimeout(() => {
        removeTypingIndicator();
        generateBotResponse(question);
      }, 1500);
    }
    
    function addUserMessage(message) {
      const chatBox = document.getElementById('chat-box');
      
      const messageElement = document.createElement('div');
      messageElement.className = 'chat-message user animated-entrance';
      
      messageElement.innerHTML = `
        <div class="message-content">
          <div class="message-bubble">
            <p>${message}</p>
          </div>
          <div class="message-meta">
            <span class="message-time">Just now</span>
            <span class="message-status"><i class="fas fa-check-double"></i></span>
          </div>
        </div>
        <div class="message-avatar">
          <i class="fas fa-user"></i>
        </div>
      `;
      
      chatBox.appendChild(messageElement);
      
      // Update stats with animation
      messageCount++;
      animateCounter('messages-count', messageCount - 1, messageCount, 500);
      
      todayStreak++;
      animateCounter('today-streak', todayStreak - 1, todayStreak, 500);
      
      // Add streak milestone animation
      if (todayStreak % 5 === 0) {
        const streakBadge = document.querySelector('.streak-badge');
        streakBadge.classList.add('milestone-achieved');
        setTimeout(() => {
          streakBadge.classList.remove('milestone-achieved');
        }, 3000);
      }
      
      // Scroll to bottom with smooth animation
      smoothScrollToBottom(chatBox);
    }
    
    function animateCounter(elementId, startVal, endVal, duration) {
      const element = document.getElementById(elementId);
      const range = endVal - startVal;
      const startTime = performance.now();
      
      function updateCounterFrame(currentTime) {
        const elapsedTime = currentTime - startTime;
        
        if (elapsedTime > duration) {
          element.textContent = endVal;
          return;
        }
        
        const progress = elapsedTime / duration;
        const currentCount = Math.floor(startVal + (progress * range));
        element.textContent = currentCount;
        
        requestAnimationFrame(updateCounterFrame);
      }
      
      requestAnimationFrame(updateCounterFrame);
    }
    
    function smoothScrollToBottom(element) {
      const targetPosition = element.scrollHeight;
      const startPosition = element.scrollTop;
      const distance = targetPosition - startPosition;
      const duration = 300;
      let startTime = null;
      
      function animation(currentTime) {
        if (startTime === null) startTime = currentTime;
        const elapsed = currentTime - startTime;
        const progress = Math.min(elapsed / duration, 1);
        
        element.scrollTop = startPosition + distance * easeInOutQuad(progress);
        
        if (progress < 1) {
          requestAnimationFrame(animation);
        }
      }
      
      function easeInOutQuad(t) {
        return t < 0.5 ? 2 * t * t : 1 - Math.pow(-2 * t + 2, 2) / 2;
      }
      
      requestAnimationFrame(animation);
    }
    
    function showTypingIndicator() {
      const chatBox = document.getElementById('chat-box');
      
      const typingElement = document.createElement('div');
      typingElement.className = 'chat-message bot typing';
      typingElement.id = 'typing-indicator';
      
      typingElement.innerHTML = `
        <div class="message-avatar">
          <i class="fas fa-robot"></i>
        </div>
        <div class="message-content">
          <div class="message-bubble typing-indicator">
            <div class="typing-dot"></div>
            <div class="typing-dot"></div>
            <div class="typing-dot"></div>
          </div>
        </div>
      `;
      
      chatBox.appendChild(typingElement);
      
      // Scroll to bottom
      smoothScrollToBottom(chatBox);
    }
    
    function removeTypingIndicator() {
      const typingIndicator = document.getElementById('typing-indicator');
      if (typingIndicator) {
        typingIndicator.classList.add('fade-out');
        setTimeout(() => {
          typingIndicator.remove();
        }, 300);
      }
    }
    
    function generateBotResponse(userMessage) {
      const chatBox = document.getElementById('chat-box');
      
      // Simple response logic based on keywords
      let response = '';
      const lowercaseMessage = userMessage.toLowerCase();
      
      if (lowercaseMessage.includes('craving') || lowercaseMessage.includes('help with cravings')) {
        response = "When you feel a craving, try the 4Ds: <br><br>1. <strong>Delay</strong> - Wait it out, cravings usually pass in 3-5 minutes<br>2. <strong>Deep breathe</strong> - Slow, deep breaths help reduce stress<br>3. <strong>Drink water</strong> - Slowly sip water to create a distraction<br>4. <strong>Do something else</strong> - Change your activity or environment<br><br>Would you like more specific techniques?";
      } 
      else if (lowercaseMessage.includes('withdrawal') || lowercaseMessage.includes('withdrawal symptoms')) {
        response = "Common withdrawal symptoms include irritability, anxiety, difficulty concentrating, increased appetite, and trouble sleeping. These are normal and temporary! Most physical symptoms peak within 1-3 days and significantly decrease within 1-3 weeks. Would you like specific tips for managing a particular symptom?";
      }
      else if (lowercaseMessage.includes('benefits') || lowercaseMessage.includes('benefits of quitting')) {
        response = "Quitting smoking has immediate and long-term benefits:<br><br>‚Ä¢ Within 20 minutes: Heart rate drops<br>‚Ä¢ Within 12 hours: Carbon monoxide levels normalize<br>‚Ä¢ Within 2 weeks: Circulation improves, lung function increases<br>‚Ä¢ Within 1-9 months: Coughing and shortness of breath decrease<br>‚Ä¢ Within 1 year: Heart attack risk drops dramatically<br>‚Ä¢ Within 5-15 years: Stroke risk reduces to that of a non-smoker<br><br>And there are many more benefits to your health, finances, and quality of life!";
      }
      else if (lowercaseMessage.includes('tip') || lowercaseMessage.includes('quitting tips')) {
        response = "Here are some effective quitting tips:<br><br>1. Identify triggers and create a plan for each<br>2. Remove smoking reminders from your environment<br>3. Build a support network of friends, family, or support groups<br>4. Use nicotine replacement therapy if needed<br>5. Practice stress management techniques like meditation<br>6. Reward yourself with the money saved<br>7. Exercise regularly to reduce cravings and improve mood<br><br>Would you like more detailed information on any of these?";
      }
      else if (lowercaseMessage.includes('health') || lowercaseMessage.includes('health improvements') || lowercaseMessage.includes('timeline')) {
        response = "Here's a timeline of health improvements after quitting:<br><br>‚Ä¢ <strong>20 minutes:</strong> Heart rate normalizes<br>‚Ä¢ <strong>12 hours:</strong> CO levels in blood drop to normal<br>‚Ä¢ <strong>2-3 days:</strong> Sense of smell and taste improve<br>‚Ä¢ <strong>2-3 weeks:</strong> Circulation improves, lung function increases<br>‚Ä¢ <strong>1-3 months:</strong> Reduced coughing and shortness of breath<br>‚Ä¢ <strong>1 year:</strong> Risk of coronary heart disease halves<br>‚Ä¢ <strong>5-10 years:</strong> Stroke risk equals that of a non-smoker<br>‚Ä¢ <strong>10+ years:</strong> Lung cancer risk significantly reduces<br>‚Ä¢ <strong>15+ years:</strong> Heart disease risk equals a non-smoker";
      }
      else if (lowercaseMessage.includes('hello') || lowercaseMessage.includes('hi') || lowercaseMessage.includes('hey')) {
        response = "Hi there! I'm QuitBot, your personal quit smoking assistant. How are you feeling today? I'm here to provide support, answer questions, or just chat about your journey to becoming smoke-free.";
      }
      else {
        response = "Thank you for sharing. I'm here to support your quit journey. Would you like information about:<br><br>‚Ä¢ Dealing with cravings<br>‚Ä¢ Managing withdrawal symptoms<br>‚Ä¢ Benefits of quitting<br>‚Ä¢ Creating a quit plan<br>‚Ä¢ Finding support resources<br><br>Feel free to ask about any of these topics!";
      }
      
      const botMessageElement = document.createElement('div');
      botMessageElement.className = 'chat-message bot animated-entrance';
      
      botMessageElement.innerHTML = `
        <div class="message-avatar">
          <i class="fas fa-robot"></i>
        </div>
        <div class="message-content">
          <div class="message-bubble">
            <p>${response}</p>
          </div>
          <div class="message-meta">
            <span class="message-time">Just now</span>
          </div>
        </div>
      `;
      
      chatBox.appendChild(botMessageElement);
      
      // Scroll to bottom with animation
      smoothScrollToBottom(chatBox);
    }
    
    // Emoji picker functionality
    let showEmojiPicker = false;
    
    function toggleEmojiPicker() {
      const emojiPicker = document.getElementById('emoji-picker');
      showEmojiPicker = !showEmojiPicker;
      
      if (showEmojiPicker) {
        emojiPicker.classList.add('show');
      } else {
        emojiPicker.classList.remove('show');
      }
    }
    
    function initEmojiPicker() {
      const emojiPicker = document.getElementById('emoji-picker');
      const emojiGrid = document.getElementById('emoji-grid');
      
      // Hide emoji picker initially
      emojiPicker.classList.remove('show');
      
      const smileys = ['üòÄ', 'üòÅ', 'üòÇ', 'üôÇ', 'üòä', 'üòá', 'üôÉ', 'üòâ', 'üòå', 'üòç', 'ü•∞', 'üòò', 'üòó', 'üòô', 'üòö', 'üòã', 'üòõ', 'üòù', 'üòú', 'ü§™', 'ü§®', 'üßê', 'ü§ì', 'üòé', 'ü§©', 'ü•≥', 'üòè', 'üòí', 'üòû', 'üòî', 'üòü', 'üòï', 'üôÅ', 'üò£', 'üòñ', 'üò´', 'üò©', 'ü•∫', 'üò¢', 'üò≠'];
      
      // Populate emoji grid with smileys by default
      emojiGrid.innerHTML = '';
      smileys.forEach(emoji => {
        const button = document.createElement('button');
        button.className = 'emoji-item';
        button.textContent = emoji;
        button.addEventListener('click', () => {
          const userInput = document.getElementById('user-input');
          userInput.value += emoji;
          userInput.focus();
          toggleEmojiPicker(); // Close picker after selection
        });
        
        emojiGrid.appendChild(button);
      });
      
      // Add category button functionality
      const categoryButtons = document.querySelectorAll('.category-btn');
      categoryButtons.forEach(button => {
        button.addEventListener('click', () => {
          // Remove active class from all buttons
          categoryButtons.forEach(btn => btn.classList.remove('active'));
          
          // Add active class to clicked button
          button.classList.add('active');
          
          // In a real implementation, you would load emojis based on the category
          // For this demo, we'll just keep the smileys
        });
      });
    }
  </script>
</body>
</html>